(println "=== Regression Test - Ensure Nothing Broke ===")
(println "")

// Test 1: Basic arithmetic still works
(println "Test 1: Arithmetic")
x = (add 5 3)
y = (multiply 4 2)
(println "5 + 3 =" x)
(println "4 * 2 =" y)
(println "PASS")
(println "")

// Test 2: List operations still work
(println "Test 2: List operations")
nums = [1, 2, 3, 4, 5]
first = (head nums)
rest = (tail nums)
len = (length nums)
(println "List:" nums)
(println "Head:" first)
(println "Length:" len)
(println "PASS")
(println "")

// Test 3: Closures still work
(println "Test 3: Closures")
make_adder = {n -> <- {x -> <- (add x n)}}
add5 = (make_adder 5)
result = (add5 10)
(println "add5(10) =" result)
(println "PASS")
(println "")

// Test 4: Filter still works
(println "Test 4: Filter")
numbers = [1, 2, 3, 4, 5, 6]
is_even = {x i -> <- (is (remainder x 2) 0)}
evens = (filter numbers is_even)
(println "Numbers:" numbers)
(println "Evens:" evens)
(println "PASS")
(println "")

// Test 5: Map works (new feature)
(println "Test 5: Map")
values = [1, 2, 3, 4, 5]
double = {x i -> <- (multiply x 2)}
doubled = (map values double)
(println "Values:" values)
(println "Doubled:" doubled)
(println "PASS")
(println "")

(println "=== All 5 regression tests passed! ===")
